<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>UNDETALLIS — Mensajes Secuenciales</title>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100vh;
        width: 100vw;
        background: black;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: Arial, sans-serif;
    }

    #fondo {
        position: fixed;
        top: 0;
        left: 0;
        width: 110%;
        height: 110%;
        background-image: url("assets/fondo.jpg");
        background-size: cover;
        background-position: center;
        animation: fondoMovimiento 2s infinite ease-in-out alternate;
        filter: blur(4px) brightness(0.8);
        z-index: -1;
    }

    @keyframes fondoMovimiento {
        0% { transform: scale(1.02) translate(-5px, -5px); }
        100% { transform: scale(1.05) translate(5px, 5px); }
    }

    #fraseBox {
        max-width: 90vw;
        color: black;
        background: white;
        border-radius: 25px;
        padding: 30px;

        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;

        font-size: 10vw;
        font-weight: bold;
        line-height: 1.1;

        box-shadow: 0 0 25px rgba(0, 0, 0, 0.4);
        animation: aparecer 0.7s ease-out;

        backdrop-filter: blur(6px);
    }

    @keyframes aparecer {
        0% { opacity: 0; transform: scale(0.7); filter: blur(5px); }
        100% { opacity: 1; transform: scale(1); }
    }
</style>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBbOpT1ONb8_ZKrlxeUOG2vQpjI86wrKSI",
      authDomain: "undeeellismascota.firebaseapp.com",
      databaseURL: "https://undeeellismascota-default-rtdb.firebaseio.com",
      projectId: "undeeellismascota",
      storageBucket: "undeeellismascota.firebasestorage.app",
      messagingSenderId: "680255793800",
      appId: "1:680255793800:web:2b5d91a27213f947b10d3d",
      measurementId: "G-N7JGJ1XKY6"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const frases = [
        "Dame cariñitos.",
  "Tengo hambre.",
  "¿Me das un premio?",
  "Abrácame.",
  "No te vayas, quédate conmigo.",
  "Juega conmigo.",
  "Te estuve esperando todo el día.",
  "¿A dónde vas sin mí?",
  "Llévame contigo.",
  "Huele mi pancita.",
  "Estoy listo para un paseo.",
  "Tengo sueño.",
  "Hoy quiero mimos extra.",
  "¿Me amas?",
  "Yo te amo más.",
  "Ven, siéntate conmigo.",
  "No quiero estar solo.",
  "¿Por qué tardaste tanto?",
  "No me ignores.",
  "¡Vamos a correr!",
  "Tengo energía infinita.",
  "Estoy aburrido, haz algo.",
  "Quiero ir afuera.",
  "Dame agua, humano.",
  "Ese sonido me dio miedo.",
  "Cuídame.",
  "Prometo portarme bien.",
  "Bueno… tal vez no.",
  "No toques mis cosas.",
  "Eso es mío.",
  "Estoy celoso.",
  "¿Quién olía a perro o gato?",
  "Huelo comida… ¿me das?",
  "Me gusta cuando sonríes.",
  "No estés triste.",
  "Estoy aquí contigo.",
  "Yo te protejo.",
  "Déjame dormir contigo.",
  "Tengo frío.",
  "Ven, acurrúcate.",
  "¡Vamos a jugar a correr!",
  "Lánzame la pelota.",
  "No quiero bañarme.",
  "Ya me bañé ayer.",
  "Era un accidente, lo juro.",
  "Esa bolsa hace ruido, ¿qué trae?",
  "Vi una mosca y la perseguí.",
  "No sé qué rompí, pero fue sin querer.",
  "Yo también quiero de eso.",
  "Hazme caso.",
  "No quiero medicina.",
  "Te extrañé mucho.",
  "Ese es mi lugar favorito para dormir.",
  "No me muevas.",
  "Dame tu mano.",
  "Dame un beso.",
  "Más caricias aquí.",
  "¡Ay! Eso da cosquillas.",
  "Yo no fui… creo.",
  "¿Me amas aunque sea travieso?",
  "Estoy feliz.",
  "Estoy emocionado.",
  "Estoy listo para una aventura.",
  "Vamos a explorar.",
  "Corre conmigo.",
  "Huele esto, es interesante.",
  "Hoy me siento lindo.",
  "¿Me tomas una foto?",
  "Ya basta de fotos.",
  "Dame comida humana.",
  "Prometo no pedir más… después de esta.",
  "Estoy vigilando la casa.",
  "Ese humano no me cayó bien.",
  "Ese sí me gustó.",
  "¿Qué traes ahí?",
  "¿Por qué suena eso?",
  "No entiendo, pero te apoyo.",
  "Me gusta tu olor.",
  "Me gusta tu voz.",
  "Me gusta dormir contigo.",
  "No quiero levantarme.",
  "Cinco minutos más.",
  "Ese sillón es mío ahora.",
  "Tu cama también.",
  "Y tu ropa.",
  "Traes olor raro… ¿me engañaste?",
  "Vamos al parque.",
  "No quiero volver a casa.",
  "¡Más vueltas!",
  "Tengo calor.",
  "Hazme sombrita.",
  "Me pica algo.",
  "Rasca aquí.",
  "No, aquí.",
  "¡Ahí! Perfecto.",
  "Quiero un juguete nuevo.",
  "Ese ya me aburrió.",
  "No tires mis juguetes.",
  "Este es mi favorito.",
  "¿Por qué trabajas tanto?",
  "Ven conmigo, te extraño.",
  "Quiero estar pegado a ti.",
  "No me dejes.",
  "Estoy muy feliz contigo.",
  "Hoy me siento travieso.",
  "Quiero saltar sobre ti.",
  "No me regañes.",
  "Fue sin querer.",
  "Vamos a ver la tele.",
  "No me gusta ese sonido.",
  "Mírame, mírame, mírame.",
  "Dame atención.",
  "Estoy aquí.",
  "¿Me acaricias la cabeza?",
  "¿Y la pancita?",
  "Y otra vez la pancita.",
  "Gracias por cuidarme.",
  "Eres mi humano favorito.",
  "No cambies nunca.",
  "Te amaré siempre."
    ];

    async function cargarFrase() {
        const fraseBox = document.getElementById("fraseBox");
        fraseBox.textContent = "Cargando…";

        let index = 0;

        try {
            const refOrden = ref(db, "globalOrder");
            const snap = await get(refOrden);

            if (snap.exists()) {
                index = snap.val();
            }

            set(refOrden, (index + 1) % frases.length);
        } catch (e) {
            console.warn("⚠ Firebase no respondió, usando frase 0");
        }

        const frase = frases[index];

        fraseBox.style.animation = "none";
        void fraseBox.offsetWidth;
        fraseBox.style.animation = "aparecer 0.7s ease-out";

        fraseBox.textContent = frase;
    }

    window.onload = cargarFrase;
</script>
</head>

<body>
    <div id="fondo"></div>
    <div id="fraseBox">Cargando…</div>
</body>
</html>
